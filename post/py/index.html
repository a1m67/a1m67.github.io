<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>py | Gridea</title>
<link rel="shortcut icon" href="https://a1m67.github.io/favicon.ico?v=1724240269600">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://a1m67.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="py | Gridea - Atom Feed" href="https://a1m67.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="

格式化输出
eg:
name='张三'
country= 'China'
age=19
print(&quot;我的名字是 %s ，我的国籍是 %s &quot;%(name,country))
print('我的年纪是 %d 岁'%a..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://a1m67.github.io">
  <img class="avatar" src="https://a1m67.github.io/images/avatar.png?v=1724240269600" alt="">
  </a>
  <h1 class="site-title">
    Gridea
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              py
            </h2>
            <div class="post-info">
              <span>
                2023-12-10
              </span>
              <span>
                40 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <ul>
<li>
<p>格式化输出</p>
<p>eg:</p>
<pre><code>name='张三'
country= 'China'
age=19
print(&quot;我的名字是 %s ，我的国籍是 %s &quot;%(name,country))
print('我的年纪是 %d 岁'%age)
#sep 控制字符串之间的分隔符
print(&quot;www&quot;,&quot;bilibili&quot;,&quot;com&quot;,sep=&quot;.&quot;)
输出：
我的名字是 张三 ，我的国籍是 China 
我的年纪是 19 岁
www.bilibili.com
</code></pre>
</li>
<li>
<p>整除是//</p>
</li>
<li>
<p>pycharm 直接多行注释， 先选中代码  ctrl + /</p>
</li>
<li>
<p>平方可以直接用**</p>
</li>
<li>
<p>py字符串是str</p>
</li>
<li>
<p>直接交换了<br>
如 a,b=b,a</p>
</li>
<li>
<p>==比较值<br>
is 比较地址</p>
</li>
<li>
<p>不可变数据: Number（数字）、String（字符串）、Tuple（元组）</p>
<p>Number：int , float ,bool ,Complex(复数)</p>
<p>可变数据:List（列表）、Dictionary（字典）、Set（集合）</p>
</li>
<li>
<p>range迭代器</p>
<p>range(start,stop,step) 左闭右开</p>
<pre><code>for i in range(0,12,3):
    print(i)
    
    输出为：
  0
  3
  6
  9
</code></pre>
<pre><code>
特别的，在py中可以遍历列表

```python
a=['aa','bb','cc']
for i in range(len(a)):
    print(i,a[i])
</code></pre>
</li>
<li>
<p>字符串</p>
<ul>
<li>
<p>切片操作是字符串的</p>
<p>[start:stop:step]</p>
<pre><code>str1=&quot;zhengzhou&quot;
print(str1)
print(str1[0:6])
</code></pre>
</li>
<li>
<p>关于转义字符</p>
<pre><code>#使用斜杠转义
print(&quot;hello\nzhengzhou&quot;)
#在字符串前边加r，直接显示原始字符串不转义
print(r&quot;hello\nzhengzhou&quot;)
</code></pre>
</li>
<li>
<p>常用方法</p>
<ul>
<li>isalnum()  isalpha()  isdigit() islower() isupper()
<ul>
<li>isalnum() 字符串至少有一个字符且所有字符都是字母或数字返回True</li>
<li>isalpha() 字符串至少有一个字符且所有字符都是字母返回True</li>
<li>isdigit() 字符串至少有一个字符且所有字符都是数字返回True</li>
</ul>
</li>
<li>count()  用于检索指定字符串在另一个字符串中出现的次数，如果检索的字符串不存在，则返回0</li>
<li>find()：用于检索是否包含指定的子字符串，如果检索的字符串不存在，则返回-1</li>
<li>upper()方法和lower()    upper大写，lower小写</li>
<li>strip()方法去除字符串左右两边的空格和特殊字符
<ul>
<li>lstripr() 去除字符串左边的空格和特殊字符</li>
<li>rstripr() 去除字符串左边的空格和特殊字符</li>
</ul>
</li>
<li>len() 返回字符串长度</li>
<li>join()   pass</li>
<li>split()  pass</li>
</ul>
</li>
</ul>
</li>
<li>
<p>函数的定义<br>
def 函数名（参数）：<br>
函数体<br>
return</p>
<ul>
<li>与别的语言不同的是，py的函数可以有多个返回值</li>
</ul>
</li>
<li>
<p>列表（list）</p>
<ul>
<li>
<p>特性</p>
<p>list是一种有序的集合（打了激素的数组），可以随时添加和删除其中的元素，可以存储任意数据类型的集合</p>
</li>
<li>
<p>常用操作<br>
list[0,1,2,3,4,5,6]<br>
list1['a','b','c','d','e','f']<br>
del list[2] 删除下标为2的元素（删除2）<br>
两个列表相加就是组合在一起<br>
字符串可重复输出如print(list[1]*4)<br>
基本函数</p>
<ul>
<li>len(list)列表长度</li>
<li>max(list)返回列表最大值</li>
<li>min(list)返回列表最小值</li>
<li>list(seq)元组转化为列表</li>
</ul>
</li>
<li>
<p><strong>添加下标</strong></p>
<p>eg:</p>
<p>​	# i 可以得到下标，x可以得到值</p>
<p>​		for i,x in enumerate(list)</p>
<p>​				print(i,x)</p>
</li>
</ul>
</li>
<li></li>
<li>
<p>基本方法</p>
<ul>
<li>
<p>添加操作</p>
<ul>
<li>list.append(obj) 在列表末尾添加，并且将添加的当作一个整体</li>
</ul>
</li>
<li>
<p>list.extend(obj) 同在列表末尾添加，但是是将添加的东西拆开一个一个放进去</p>
</li>
</ul>
</li>
<li>
<p>list.insert(index,obj) 可以指定下标位置进行插入</p>
</li>
<li>
<p>删除操作</p>
<pre><code>- del  listname[index] 删除对应列表对应下标元素，并且可以切片删除
</code></pre>
<ul>
<li>
<p>list.pop(index) 删除指定下标元素，若没有指定下标默认删除最后一个</p>
</li>
<li>
<p>list.remove(obj) 删除指定内容，如果出现多次只删除第一个遇到的</p>
</li>
<li>
<p>修改操作</p>
<ul>
<li>list[index] = obj 直接指定下标进行修改</li>
</ul>
</li>
<li>
<p>查询操作</p>
<ul>
<li>
<p>if语句</p>
<pre><code>namelist=[&quot;小张&quot;,&quot;小王&quot;,&quot;小李&quot;]
findName= input(&quot;请输入想查询的名字&quot;)
if findName in namelist:
    print(&quot;在&quot;)
else:
    print(&quot;不在&quot;)
    
输出：
请输入想查询的名字小张
在
</code></pre>
</li>
<li>
<p>list.index(obj,start,stop) 指定范围查找，有重复输出元素最早出现时的下标，左闭右开</p>
</li>
<li>
<p>list.count(obj) 统计某个元素出现的次数</p>
</li>
</ul>
</li>
<li>
<p>特殊操作</p>
<ul>
<li>list.reverse() 反向，直接调用就行，作用于列表本身，返回值为空</li>
</ul>
</li>
<li>
<p>list.sort() 排序，同上</p>
</li>
</ul>
</li>
<li>
<p>list.sort(reverse=True) 反向排序</p>
<ul>
<li>
<p>嵌套</p>
<ul>
<li>list[][][ [] , [] , [] , [] ]</li>
<li>类比二维数组</li>
</ul>
</li>
</ul>
</li>
<li>
<p>元组 （tuple）</p>
<ul>
<li>
<p>特性</p>
<p>元组与列表类似，不同之处在于元组的元素不能修改</p>
<p>列表使用方括号，元组使用小括号</p>
<p>eg：  tup1=('a','b','c','d')</p>
<p>​		  tup = ()</p>
<p>创建只有一个元素的元组，需在元素后边加   '   ， '</p>
<p>​		  tup2=(50,)</p>
</li>
<li>
<p>元组不允许修改，但可以相加</p>
<p>tup3=tup1+tup2</p>
</li>
<li>
<p>只能删除整个元组</p>
</li>
<li>
<p>内置函数同列表</p>
<ul>
<li>
<p>多一个</p>
<p>tuple（seq）</p>
<p>将列表转换成元组</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>字典（dict）</p>
<ul>
<li>
<p>特性</p>
<p>d = {key1 : value1, key2 : value2 }</p>
<p>key是唯一的，重复 最后一个key对会替换前边的</p>
<p>键必须不可变，所以可以用数字，字符串或元组充当，所以用列表就不行</p>
<pre><code>dict1={'张三':66,'李四':77,'张三':77}
#输出整个字典
print(dict1)
#输出张三对应的value
print(dict1['张三'])
#添加新键对
dict1['王五']=88
#删除
del dict1['张三']
输出：
输出整个字典	 {'张三': 77, '李四': 77}
输出某个人  77
添加之后	{'张三': 77, '李四': 77, '王五': 88}
删除张三	{'李四': 77, '王五': 88}
</code></pre>
</li>
<li>
<p>内置函数同列表</p>
</li>
<li>
<p>方法</p>
<ul>
<li>
<p>增</p>
<ul>
<li>dict[&quot;id&quot;]= newID</li>
</ul>
</li>
<li>
<p>删</p>
<ul>
<li>dict.clear()   情空字典内所有元素，但是字典还存在，再次访问输出空字典</li>
</ul>
</li>
</ul>
</li>
<li>
<p>del dict[key]<br>
-  del dict	也可以删除整个字典，删除后访问会报错</p>
<ul>
<li>
<p>查</p>
<ul>
<li>dict.keys() 访问字典的键</li>
<li>dict.values() 访问字典的值</li>
<li>dict.items() 访问字典中所有的项，每个键值对是一个元组</li>
</ul>
</li>
<li>
<p>dict.copy()   返回一个字典的浅复制</p>
</li>
<li>
<p>dict.get(key) 返回指定键的值，如果值不在字典中返回default值(默认值可以在自己设置)</p>
<pre><code>dict1={'张三':66,'李四':77,'张三':77}
print(dict1.get('李五','man'))
</code></pre>
</li>
<li>
<p>dict.items() 以列表返回可遍历的(键, 值) 元组数组</p>
</li>
<li>
<p>pop() 删除字典给定键 key 所对应的值，返回值为被删除的值。key值必须给出。 否则，返回default值。</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>集合（set）</p>
<ul>
<li>set 和 dict 类似，是一组key的集合，不存value，由于key不能重复，所以set中没有重复key。</li>
<li>set是无序的，重复元素在set中被自动过滤，所以可以用来去重</li>
</ul>
</li>
</ul>
<p>小结</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">是否有序</th>
<th style="text-align:center">是否是可变类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>列表[  ]</strong></td>
<td style="text-align:center">有序</td>
<td style="text-align:center">可变类型</td>
</tr>
<tr>
<td style="text-align:center">元组(  )</td>
<td style="text-align:center">有序</td>
<td style="text-align:center">不可变类型</td>
</tr>
<tr>
<td style="text-align:center"><strong>字典{  }</strong></td>
<td style="text-align:center">无序</td>
<td style="text-align:center">key不可变 val可变</td>
</tr>
<tr>
<td style="text-align:center">集合{  }</td>
<td style="text-align:center">无序</td>
<td style="text-align:center">可变类型（不重复）</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>文件操作</p>
<ul>
<li>import os
<ul>
<li>os 模块在运维工作中是很常用的一个模块。通过os模块调用系统命令。os模块可以跨平台使用</li>
</ul>
</li>
<li>read（num） 读num个字符</li>
<li>readline（）读一行</li>
<li>readlines（） 读所有的，并且放进一个列表，可以用 for 循环遍历</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">r+</th>
<th>打开一个文件用于读写。文件指针将会放在文件的开头。</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">w</td>
<td>打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td style="text-align:center">w+</td>
<td>打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td style="text-align:center">rb+</td>
<td>以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</td>
</tr>
<tr>
<td style="text-align:center">wb+</td>
<td>以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td>
</tr>
<tr>
<td style="text-align:center">a+</td>
<td>打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>捕获异常</p>
<ul>
<li>
<p>try:</p>
<p>​	code</p>
<p>except Exception as result:</p>
<p>​	print(result)</p>
</li>
</ul>
</li>
<li>
<p>urllib 补充</p>
<ul>
<li>
<p>（获取一个get请求）直接整一个网页，用下边代码得到百度的源码，放到html文件里，可以直接打开这个网页（不伪装只能进去百度）</p>
<ul>
<li>
<pre><code>import urllib.request

response = urllib.request.urlopen(&quot;http://www.baidu.com&quot;)
print(response.read().decode('utf-8')) #对获取到的网页源码进行utf-8解码
</code></pre>
</li>
</ul>
</li>
<li>
<p>（获取一个post请求）用于模拟登录</p>
<ul>
<li>
<pre><code>import urllib.parse
data = bytes(urllib.parse.urlencode({&quot;hello&quot;:&quot;world&quot;}),encoding=&quot;utf-8&quot;)
response = urllib.request.urlopen(&quot;http://httpbin.org/post&quot;,data=data)
print(response.read().decode(&quot;utf-8&quot;))
</code></pre>
</li>
</ul>
</li>
<li>
<p>伪装成一个浏览器进行访问网站（一定要有header）（大部分网站必须伪装才能进去）</p>
<ul>
<li>
<pre><code>url = &quot;http://www.douban.com&quot;
headers = {
&quot;User-Agent&quot;:&quot; Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36&quot;
}
req = urllib.request.Request(url=url,headers=headers)
response = urllib.request.urlopen(req)
print(response.read().decode(&quot;utf-8&quot;))
</code></pre>
</li>
</ul>
</li>
</ul>
<h1 id="建议以后补习html和css"><em><strong>建议以后补习html和css</strong></em></h1>
</li>
<li>
<p>beautifulsoup4补充</p>
<ul>
<li>
<p>进行操作的html文档内容</p>
<ul>
<li>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta content=&quot;text/html;charset=utf-8&quot; http-equiv=&quot;content-type&quot; /&gt;
    &lt;meta content=&quot;IE=Edge&quot; http-equiv=&quot;X-UA-Compatible&quot; /&gt;
    &lt;meta content=&quot;always&quot; name=&quot;referrer&quot; /&gt;
    &lt;link href=&quot;https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;title&gt;百度一下，你就知道 &lt;/title&gt;
&lt;/head&gt;
&lt;body link=&quot;#0000cc&quot;&gt;
  &lt;div id=&quot;wrapper&quot;&gt;
    &lt;div id=&quot;head&quot;&gt;
        &lt;div class=&quot;head_wrapper&quot;&gt;
          &lt;div id=&quot;u1&quot;&gt;
            &lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;&lt;!--新闻--&gt;&lt;/a&gt;
            &lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;新闻&lt;/a&gt;
            &lt;a class=&quot;mnav&quot; href=&quot;https://www.hao123.com&quot; name=&quot;tj_trhao123&quot;&gt;hao123&lt;/a&gt;
            &lt;a class=&quot;mnav&quot; href=&quot;http://map.baidu.com&quot; name=&quot;tj_trmap&quot;&gt;地图&lt;/a&gt;
            &lt;a class=&quot;mnav&quot; href=&quot;http://v.baidu.com&quot; name=&quot;tj_trvideo&quot;&gt;视频&lt;/a&gt;
            &lt;a class=&quot;mnav&quot; href=&quot;http://tieba.baidu.com&quot; name=&quot;tj_trtieba&quot;&gt;贴吧&lt;/a&gt;
            &lt;a class=&quot;bri&quot; href=&quot;//www.baidu.com/more/&quot; name=&quot;tj_briicon&quot; style=&quot;display: block;&quot;&gt;更多产品 &lt;/a&gt;
          &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>tag  拿到标签及其内容:重复出现只能拿到第一个内容</p>
<ul>
<li>
<pre><code>from bs4 import BeautifulSoup

file=open(&quot;./baidu.html&quot;,&quot;rb&quot;)
html = file.read()
bs=BeautifulSoup(html,&quot;html.parser&quot;)
print(bs.head)

输出结果:
&lt;title&gt;百度一下，你就知道 &lt;/title&gt;
&lt;class 'bs4.element.Tag'&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>NavigableString 标签里的内容（可以理解为字符串）</p>
<ul>
<li>
<pre><code>from bs4 import BeautifulSoup
file=open(&quot;./baidu.html&quot;,&quot;rb&quot;)
html = file.read()
bs=BeautifulSoup(html,&quot;html.parser&quot;)
print(bs.title)
print(bs.title.string)
print(type(bs.title.string))
print(bs.a.attrs)  #拿到标签里的所有属性(attribute)，返回类型为字典
输出结果：
&lt;title&gt;百度一下，你就知道 &lt;/title&gt;
百度一下，你就知道 
&lt;class 'bs4.element.NavigableString'&gt;
{'class': ['mnav'], 'href': 'http://news.baidu.com', 'name': 'tj_trnews'}
</code></pre>
</li>
</ul>
</li>
<li>
<p>Beautifulsoup</p>
<ul>
<li>
<pre><code>print(type(bs)) #打印bs的类型

输出为:
&lt;class 'bs4.BeautifulSoup'&gt;   #bs即为整个html文档，直接打印bs可输出整个文档内容
</code></pre>
</li>
</ul>
</li>
<li>
<p>comment</p>
</li>
<li>
<p>文档的遍历</p>
<ul>
<li>
<p>contents：#获取Tag的所有子节点，返回一个list</p>
<pre><code>print(bs.head.contents) #获取head(Tag)的所有子节点，返回一个list

这个的输出为:
['\n', &lt;meta content=&quot;text/html;charset=utf-8&quot; http-equiv=&quot;content-type&quot;/&gt;, '\n', &lt;meta content=&quot;IE=Edge&quot; http-equiv=&quot;X-UA-Compatible&quot;/&gt;, '\n', &lt;meta content=&quot;always&quot; name=&quot;referrer&quot;/&gt;, '\n', &lt;link href=&quot;https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;, '\n', &lt;title&gt;百度一下，你就知道 &lt;/title&gt;, '\n']



</code></pre>
</li>
<li>
<p>children：获取Tag的所有子节点，返回一个生成器</p>
<ul>
<li>
<pre><code>for child in bs.body.children:
    print(child)
    
输出为:
&lt;div id=&quot;wrapper&quot;&gt;
&lt;div id=&quot;head&quot;&gt;
&lt;div class=&quot;head_wrapper&quot;&gt;
&lt;div id=&quot;u1&quot;&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;&lt;!--新闻--&gt;&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;新闻&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;https://www.hao123.com&quot; name=&quot;tj_trhao123&quot;&gt;hao123&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://map.baidu.com&quot; name=&quot;tj_trmap&quot;&gt;地图&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://v.baidu.com&quot; name=&quot;tj_trvideo&quot;&gt;视频&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://tieba.baidu.com&quot; name=&quot;tj_trtieba&quot;&gt;贴吧&lt;/a&gt;
&lt;a class=&quot;bri&quot; href=&quot;//www.baidu.com/more/&quot; name=&quot;tj_briicon&quot; style=&quot;display: block;&quot;&gt;更多产品 &lt;/a&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>文档的搜索</p>
<ul>
<li>
<p>find_all(&quot;Tag&quot;)	#字符串过滤：会查找与字符串完全匹配的内容，limit可以限制输出的个数</p>
<ul>
<li>
<pre><code>t_list = bs.find_all(&quot;a&quot;)
print(t_list)
print(end='\n')
t_list = bs.find_all(&quot;a&quot;,limit=3)
print(t_list)
输出为:
[&lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;&lt;!--新闻--&gt;&lt;/a&gt;, &lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;新闻&lt;/a&gt;, &lt;a class=&quot;mnav&quot; href=&quot;https://www.hao123.com&quot; name=&quot;tj_trhao123&quot;&gt;hao123&lt;/a&gt;, &lt;a class=&quot;mnav&quot; href=&quot;http://map.baidu.com&quot; name=&quot;tj_trmap&quot;&gt;地图&lt;/a&gt;, &lt;a class=&quot;mnav&quot; href=&quot;http://v.baidu.com&quot; name=&quot;tj_trvideo&quot;&gt;视频&lt;/a&gt;, &lt;a class=&quot;mnav&quot; href=&quot;http://tieba.baidu.com&quot; name=&quot;tj_trtieba&quot;&gt;贴吧&lt;/a&gt;, &lt;a class=&quot;bri&quot; href=&quot;//www.baidu.com/more/&quot; name=&quot;tj_briicon&quot; style=&quot;display: block;&quot;&gt;更多产品 &lt;/a&gt;]

[&lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;&lt;!--新闻--&gt;&lt;/a&gt;, &lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;新闻&lt;/a&gt;, &lt;a class=&quot;mnav&quot; href=&quot;https://www.hao123.com&quot; name=&quot;tj_trhao123&quot;&gt;hao123&lt;/a&gt;]
</code></pre>
</li>
</ul>
</li>
<li>
<p>正则表达式搜索:使用search()方法来匹配内容  re库（暂时pass，下边会有补充）</p>
<ul>
<li>
<pre><code>t_list = bs.find_all(re.compile(&quot;a&quot;))
print(t_list)
</code></pre>
</li>
</ul>
</li>
<li>
<p>函数搜索 传入一个函数，根据函数的要求进行搜索</p>
<ul>
<li>
<pre><code>def name_is_exists(tag):
    return tag.has_attr(&quot;name&quot;) #这个可以返回所有带name的内容

t_list = bs.find_all(name_is_exists)
</code></pre>
</li>
</ul>
</li>
<li>
<p>参数  find_all里边可以直接放一个参数进行搜索</p>
<ul>
<li>
<pre><code>输出所有存在href=&quot;http://news.baidu.com&quot;的内容
t_list = bs.find_all(href=&quot;http://news.baidu.com&quot;)
print(t_list)

输出为:
[&lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;&lt;!--新闻--&gt;&lt;/a&gt;, &lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;新闻&lt;/a&gt;]
</code></pre>
</li>
</ul>
</li>
<li>
<p>text参数 查找包含特定文本的内容（标签里的字符串），返回list</p>
<ul>
<li>
<pre><code>t_list = bs.find_all(text=re.compile(&quot;\d&quot;)) #查找所有包含数字的字符串
for i in t_list:
    print(i)
    
输出为:
hao123
</code></pre>
</li>
</ul>
</li>
<li>
<p>css选择器   #可以通过各种方式查找，例如类名，标签等,还可以直接找子标签的子标签</p>
<ul>
<li>
<pre><code>t_list = bs.select('title')  #根据标签进行查找
    print(i)
print(end=&quot;\n&quot;)
t_list = bs.select(&quot;.mnav&quot;)  #根据类名进行查找
for i in t_list:
    print(i)
print(end=&quot;\n&quot;)   
t_list = bs.select(&quot;head &gt; title&quot;)
for i in t_list:
    print(i)
输出为:
&lt;title&gt;百度一下，你就知道 &lt;/title&gt;

&lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;&lt;!--新闻--&gt;&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://news.baidu.com&quot; name=&quot;tj_trnews&quot;&gt;新闻&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;https://www.hao123.com&quot; name=&quot;tj_trhao123&quot;&gt;hao123&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://map.baidu.com&quot; name=&quot;tj_trmap&quot;&gt;地图&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://v.baidu.com&quot; name=&quot;tj_trvideo&quot;&gt;视频&lt;/a&gt;
&lt;a class=&quot;mnav&quot; href=&quot;http://tieba.baidu.com&quot; name=&quot;tj_trtieba&quot;&gt;贴吧&lt;/a&gt;

&lt;title&gt;百度一下，你就知道 &lt;/title&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>补充re模块(正则表达式:字符串模式（判断字符串是否符合一定的标准）)</p>
<ul>
<li>
<p>常用操作符（1）</p>
<ul>
<li>
<table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>表示任何单个字符</td>
<td></td>
</tr>
<tr>
<td>[     ]</td>
<td>字符集，对单个字符给出取值范围</td>
<td>[abc]表示a、b、c，[a-z]表示a-z单个字符</td>
</tr>
<tr>
<td>[^   ]</td>
<td>非字符集，对单个字符给出排除范围</td>
<td>[^abc]表示非a或b或c的单个字符</td>
</tr>
<tr>
<td>*</td>
<td><strong>前一个字符</strong>0次或者无限次扩展</td>
<td>abc*表示ab、abc、abcc、abccc等</td>
</tr>
<tr>
<td>+</td>
<td><strong>前一个字符</strong>1次或者无限次扩展</td>
<td>abc+表示abc、abcc、abccc等</td>
</tr>
<tr>
<td>?</td>
<td><strong>前一个字符</strong> 0次或1次扩展</td>
<td>abc？表示ab、abc</td>
</tr>
<tr>
<td>|</td>
<td>左右表达式任意一个</td>
<td>abc|def 表示 abc、def</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<p>常用的操作符（2）</p>
<ul>
<li>
<table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>{m}</td>
<td>扩展<strong>前一个字符</strong>m次</td>
<td>ab{2}c表示abbc</td>
</tr>
<tr>
<td>{m,n}</td>
<td>扩展<strong>前一个字符</strong>m至n次（含n）</td>
<td>ab{1,2}c表示abc、abbc</td>
</tr>
<tr>
<td>^</td>
<td>匹配字符串开头</td>
<td>^abc表示abc且在一个字符串的开头</td>
</tr>
<tr>
<td>$</td>
<td>匹配字符串结尾</td>
<td>$abc表示abc且在一个字符串的结尾</td>
</tr>
<tr>
<td>(    )</td>
<td>分组标记，内部只能用|操作符</td>
<td>(abc)表示abc,(abc|def)表示abc、def</td>
</tr>
<tr>
<td>\d</td>
<td>数字，等价于[0-9]</td>
<td></td>
</tr>
<tr>
<td>\w</td>
<td>单词字符，等价于[a-zA-z0-9_]</td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Search() 方法  查找规定字符串出现的位置</p>
<pre><code>pat = re.compile(&quot;AA&quot;) #此处的AA是正则表达式，用于验证其他字符串
m=pat.search(&quot;aaaA&quot;) #search 字符串是被校验的内容，只能找到正则表达式第一次出现的位置，若没找到输出none
print(m)
m=pat.search(&quot;aaaAA&quot;)
print(m)
#可以简写
m = re.search(&quot;AA&quot;,&quot;aaaAA&quot;)
print(m)
输出:
None
&lt;re.Match object; span=(3, 5), match='AA'&gt;
&lt;re.Match object; span=(3, 5), match='AA'&gt;
</code></pre>
</li>
<li>
<p>findall()方法  查找规定字符串</p>
<ul>
<li>
<pre><code>print(re.findall(&quot;a&quot;,&quot;ASDaDFGAa&quot;))  #前边字符串是规则
print(re.findall(&quot;[A-Z]&quot;,&quot;ASDaDFGAa&quot;))
print(re.findall(&quot;[A-Z]+&quot;,&quot;ASDaDFGAa&quot;))

输出：
['a', 'a']
['A', 'S', 'D', 'D', 'F', 'G', 'A']
['ASD', 'DFGA']
</code></pre>
</li>
</ul>
</li>
<li>
<p>sub()方法 替换 sub(参数1，参数2，参数3)  在参数3中用参数2替换参数1</p>
<ul>
<li>
<pre><code>print(re.sub(&quot;a&quot;,&quot;A&quot;,&quot;aBCDEFGFEDCBa&quot;))

输出结果:
ABCDEFGFEDCBA
</code></pre>
</li>
</ul>
</li>
<li>
<p>建议在正则表达式中，被比较的字符串前边加上r，不用担心转义字符的问题</p>
<ul>
<li>
<pre><code>a = &quot;\aabb-\'&quot;
b = r&quot;\aabb-\'&quot;
print(a)
print(b)

输出结果：
?abb-'
\aabb-\'
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h1 id="尝试爬取豆瓣的top250">尝试爬取豆瓣的top250</h1>
<ul>
<li>
<p>伪装成浏览器访问豆瓣top250的网址并得到一个html文件（获取数据）</p>
<ul>
<li>
<pre><code>def askURL(url):
    head = {
        &quot;User-Agent&quot;: &quot; Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36&quot;
    }

    request = urllib.request.Request(url,headers=head)
    html = &quot;&quot;
    try:
        response = urllib.request.urlopen(request)
        html = response.read().decode(&quot;utf-8&quot;)
       # print(html)
    except urllib.error.URLError as e:
        if hasattr(e,&quot;code&quot;):
            print(e.code)
        if hasattr(e,&quot;reason&quot;):
            print(e.reason)
    return html
</code></pre>
</li>
</ul>
</li>
<li>
<p>添加正则表达式规则（标签解析）</p>
<ul>
<li>
<pre><code>#影片链接
findLink = re.compile(r'&lt;a href=&quot;(.*?)&quot;&gt;')
#影片图片
findImgsrc = re.compile(r'img,*src=&quot;(.*?)&quot;',re.S)
#影片片名
findtitle = re.compile(r'&lt;span class=&quot;title&quot;&gt;(.*)&lt;/span&gt;')
#评分
findRating = re.compile(r'&lt;span class=&quot;rating_num&quot; property=&quot;v:average&quot;&gt;(.*)&lt;/span&gt;')
#评价
findJudge = re.compile(r'&lt;span&gt;(\d*)人评价&lt;/span&gt;')
#概述
fingInq = re.compile(r'&lt;span class=&quot;inq&quot;&gt;(.*)&lt;/span&gt;')
#演员等信息
findbd = re.compile(r'&lt;p class=&quot;&quot;&gt;(.*) &lt;/p&gt;',re.S)
#爬取网页
</code></pre>
</li>
</ul>
</li>
<li>
<p>添加正则表达式规则后将所有信息保存到一个datalist列表里</p>
<ul>
<li>
<pre><code>def getData(baseurl):
    datalist= []
    for i in range(0,10):           #调用获取页面信息的函数
        url = baseurl + str(i*25)
        html = askURL(url)         #保存获取到的网页源码

        #逐一解析数据
        soup = BeautifulSoup(html,&quot;html.parser&quot;)
        for item in soup.find_all('div',class_=&quot;item&quot;):
#             print(item)
            data = []
            item = str(item)


            link = re.findall(findLink,item)[0]         #re库用来通过正则表达式查找指定的字符串
            data.append(link)                           #

            imgSrc = re.findall(findImgSrc,item)[0]
            data.append(imgSrc)

            titles = re.findall(findTitle,item)         #片名可能只有一共一个中文名
            if (len(titles)==2):
                ctitle=titles[0]                #中国名
                data.append(ctitle)
                otitle = titles[1].replace(&quot;/&quot;,&quot;&quot;)      #外国名
                data.append(otitle)
            else:
                data.append(titles[0])
                data.append(&quot; &quot;)            #为了对齐没有外国名也得留空位
            rating = re.findall(findRating,item)[0]
            data.append(rating)

            judgeNum = re.findall(findJudge,item)[0]
            data.append(judgeNum)

            inq=re.findall(findInq,item)
            if len(inq)!= 0:
                inq=inq[0].replace(&quot;。&quot;,&quot;&quot;)
                data.append(inq)
            else:
                data.append(&quot; &quot;)

            bd=re.findall(findBd,item)[0]
            bd=re.sub('&lt;br(\s+)?/&gt;(\s+)?',&quot; &quot;,bd)   #去掉&lt;br/&gt;
            bd=re.sub(&quot;/&quot;,&quot; &quot;,bd)           #替换
            data.append(bd.strip())         #去掉前后的空格

            datalist.append(data)
    # # 2.解析数据

    return datalist
</code></pre>
</li>
</ul>
</li>
<li>
<p>保存数据到excel里（xlwt库）</p>
<ul>
<li>
<pre><code>book = xlwt.Workbook(encoding=&quot;utf-8&quot;,style_compression=0)  # 创建book对象
sheet = book.add_sheet(&quot;豆瓣电影top250&quot;,cell_overwrite_ok=True)  # 创建工作表
col = (&quot;电影详情链接&quot;,&quot;图片链接&quot;,&quot;影片中文名&quot;,&quot;影片外国名&quot;,&quot;评分&quot;,&quot;评价数&quot;,&quot;概述&quot;,&quot;相关信息&quot;)
for i in range(0,8):
    sheet.write(0,i,col[i])
for i in range(0,250):
    print(&quot;第%d条&quot;%(i+1))
    data = datalist[i]
    for j in range(0,8):
        sheet.write(i+1,j,data[j])    #数据
book.save(savepath)
</code></pre>
</li>
<li>
<figure data-type="image" tabindex="1"><img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210117132524965.png" alt="image-20210117132524965" loading="lazy"></figure>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>数据可视化</p>
<ul>
<li>
<p>首页+列表页制作，网上下载一个模板，用F12进行查询修改，保留自己想要的内容，删除自己不需要的内容，利用html列表把数据打印到网页上</p>
<ul>
<li>
<pre><code>&lt;table class=&quot;table table-striped&quot;&gt;
    &lt;tr&gt;

        &lt;td&gt;排名&lt;/td&gt;
        &lt;td&gt;电影中文名称&lt;/td&gt;
        &lt;td&gt;电影外国名称&lt;/td&gt;
        &lt;td&gt;评分&lt;/td&gt;
        &lt;td&gt;评价人数&lt;/td&gt;
        &lt;td&gt;概述&lt;/td&gt;
        &lt;td&gt;其他信息&lt;/td&gt;

    &lt;/tr&gt;
    {%  for movie in movies %}
    &lt;tr&gt;
        &lt;td&gt;{{ movie[0] }}&lt;/td&gt;
        &lt;td&gt;
            &lt;a href=&quot;{{ movie[1] }}&quot; target=&quot;_blank&quot;&gt;{{ movie[3] }}&lt;/a&gt;&lt;/td&gt;

        &lt;td&gt;{{ movie[4] }}&lt;/td&gt;
        &lt;td&gt;{{ movie[5] }}&lt;/td&gt;
        &lt;td&gt;{{ movie[6] }}&lt;/td&gt;
        &lt;td&gt;{{ movie[7] }}&lt;/td&gt;
        &lt;td&gt;{{ movie[8] }}&lt;/td&gt;

    &lt;/tr&gt;
        {% endfor %}
&lt;/table&gt;
</code></pre>
</li>
<li>
<p>效果如下</p>
<ul>
<li><img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210122115852214.png" alt="image-20210122115852214" loading="lazy"></li>
</ul>
</li>
</ul>
</li>
<li>
<p>利用Echarts 制作评分页进行数据可视化，在Echarts上找到想要的模板直接修改，修改完直接把JavaScript代码复制到对应地方，再根据自己的数据进行修改</p>
<ul>
<li>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
var dom = document.getElementById(&quot;main&quot;);
var myChart = echarts.init(dom);
var app = {};
option = null;
option = {

    color:['#3398DB'],
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'shadow'
        }
    },
    grid: {
        left: '3%',
        right:'4%',
        bottom:'3%',
        containLabel:true
    },
    xAxis: {
        type: 'category',
        data:{{ score }}
            {#['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun','999']#}
    },
    yAxis: {
        type: 'value'
    },
    series: [{

        data:{{ num }},
        &lt;!-- [120, 20, 150, 80, 70, 110, 130,200],--&gt;
        barWidth:'60%',
        type:'bar'
    }]
};
;
if (option &amp;&amp; typeof option === &quot;object&quot;) {
    myChart.setOption(option, true);
}
       &lt;/script&gt;
</code></pre>
</li>
<li>
<p>效果</p>
<ul>
<li><img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210122115923066.png" alt="image-20210122115923066" loading="lazy"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h1 id="数据库">数据库</h1>
<ul>
<li>
<p>打开数据库</p>
<pre><code>import  sqlite3

conn = sqlite3.connect(&quot;test.db&quot;) 	#打开或创建数据库文件
</code></pre>
</li>
<li>
<p>建表</p>
<pre><code>c =conn.cursor()		#获取游标

sql = '''
    create table company
    (id int primary key not null,
    name text not null,
    age int not null,
    address char(50),
    salary real);

'''

c.execute(sql)		#执行sql语句
conn.commit()		#提交数据库连接
conn.close()
</code></pre>
</li>
</ul>
</li>
<li>
<h1 id="flask">flask</h1>
<ul>
<li>
<h2 id="1从hello-world开始">1.从hello world开始</h2>
<ul>
<li>
<pre><code>#从flask包里导入Flask框架
from flask import Flask
#把Flask框架导入app里
app = Flask(__name__)

#路由解析，通过用户访问的路径，匹配相应的函数，通过用户访问这个'/'，返回一个信息
@app.route('/')
def hello_world():
    return 'hello world'


if __name__ == '__main__':
    app.run()
    
    
#运行可以生成一个网址，网址输出hello world  
此程序的运行结果：
FLASK_APP = app.py
FLASK_ENV = development
FLASK_DEBUG = 0
In folder D:/PycharmProjects/flask_demo
D:\PycharmProjects\pythonProject2\cechi\Scripts\python.exe -m flask run
 * Serving Flask app &quot;app.py&quot;
 * Environment: development
 * Debug mode: off
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
127.0.0.1 - - [19/Jan/2021 10:14:46] &quot;GET / HTTP/1.1&quot; 200 -

</code></pre>
</li>
<li>
<p>正常情况下修改需要结束掉重新运行，但是可以开启debug模式进行直接修改，并且debug模式可以看到错误出在哪个位置</p>
</li>
<li>
<p>主要关注route里和return的东西，route是根据访问方式，通过这个方式访问就可得return的东西</p>
<ul>
<li>
<p>eg：修改route里边的访问方式（通过访问路径获取用户输入的字符串参数）</p>
<ul>
<li>
<pre><code>@app.route('/user/&lt;name&gt;')
def hello_world(name):
    return 'hello,' + name
#原来网址返回hello world，修改之后变成hello，&lt;name&gt;
#修改一下http://127.0.0.1:5000/user/张三
网页输出:hello,张三
</code></pre>
</li>
</ul>
</li>
<li>
<p>可以定义多个函数，根据不同的访问类型自动匹配返回值</p>
</li>
<li>
<p>eg：通过访问路径获取用户输入的整形参数（还可以获取float类型）</p>
<ul>
<li>
<pre><code>#在刚才的代码中间加上个新函数
@app.route('/user/&lt;int:id&gt;')
def hello_world1(id):
    return 'hello,id为%d号的用户'%id
#修改一下http://127.0.0.1:5000/user/123
网页输出:hello,id为123号的用户
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>路由路径不能重复，用户通过唯一路径访问特定函数</strong></p>
<ul>
<li>
<p>访问路由的方式是用werkzeug包，而return一般用jinja2</p>
</li>
<li>
<p>返回给用户渲染后的页面，要从flark引入render_template包</p>
<pre><code>#返回给用户渲染后的网页文件
@app.route('/')   #route里边是访问路径
def index():
    return render_template(&quot;iu.html&quot;) #这个里边是文件的保存路径
#在iu.html里写了欢迎光临
网页输出:你好,欢迎光临
</code></pre>
</li>
<li>
<p>向页面传递一个变量（拿返回今天的时间举例）  要引入提前datetime包</p>
<ul>
<li>
<pre><code>import datetime
@app.route('/')
def index():
    time = datetime.date.today()
    name = ['小张','小李','小王','小刘']
    return render_template(&quot;iu.html&quot;,var=time，list = name)
#要把var放到iu.html里，方法如下  {{ var }}  ，两个花括号，里边放上变量名
输出结果:今天是2021-01-19,你好,欢迎光临
</code></pre>
</li>
<li>
<p>在html文件写控制语句的方法（for循环之类的）要用如下格式</p>
<pre><code>今天值班的有:&lt;br/&gt;
{% for data in list  %}  &lt;!--用大括号和百分号括起来的是控制结构，还有if&gt;
    &lt;li&gt;{{ data }}&lt;/li&gt;
{% endfor  %}
</code></pre>
</li>
<li>
<p>打印表格和迭代（html）     <strong>补html</strong></p>
<ul>
<li>
<pre><code>任务&lt;br/&gt;
    &lt;table border=&quot;1&quot;&gt; 		&lt;!-- 打印表格&gt;
       {% for key,value in task.items() %} &lt;!--字典类型遍历方法&gt;
            &lt;tr&gt;
                 &lt;td&gt;{{key}}&lt;/td&gt;
                 &lt;td&gt;{{value}} &lt;/td&gt;
            &lt;/tr&gt;

        {% endfor %}
    &lt;/table&gt;	&lt;!-- 打印表格&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>表单提交功能</p>
<ul>
<li>
<pre><code>#表单提交
@app.route(&quot;/test/register&quot;)#访问方式
def register():
    return render_template(&quot;test/register.html&quot;) #新建一个html文件


</code></pre>
</li>
<li>
<p>新建的html文件<body>里边的东西</p>
<pre><code>&lt;body&gt;
&lt;!--action是访问的路径，method是访问的方式--&gt;
&lt;form action=&quot;{{url_for('result')}}&quot; method=&quot;post&quot;&gt;此处url_for能动态获得当前的网址
    &lt;p&gt;姓名:&lt;input type=&quot;text&quot; name=&quot;姓名&quot;&gt;&lt;/p&gt;
    &lt;p&gt;年龄:&lt;input type=&quot;text&quot; name=&quot;年龄&quot;&gt;&lt;/p&gt;
    &lt;p&gt;性别:&lt;input type=&quot;text&quot; name=&quot;性别&quot;&gt;&lt;/p&gt;
    &lt;p&gt;地址:&lt;input type=&quot;text&quot; name=&quot;地址&quot;&gt;&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;&lt;/p&gt;
&lt;/form&gt;
</code></pre>
</li>
<li>
<pre><code>#对result访问方式的操作（提交后的内容）
@app.route(&quot;/result&quot;,methods=['post','get'])
def result():
 if request.method=='POST':	#此处访问方式要大写
   result = request.form  #result里边存输入的内容
   return render_template(&quot;test/result.html&quot;,result=result)
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h1 id="html超文本标记语言">HTML（超文本<em><strong>标记语言</strong></em>）</h1>
<ul>
<li>
<p>根据W3C标准分为</p>
<ul>
<li>HTML用于描述页面的结构</li>
<li>CSS用于控制页面中元素的样式</li>
<li>JavaScript用于响应用户操作</li>
</ul>
</li>
<li>
<h2 id="html标签">HTML标签</h2>
<ul>
<li>HTML标签是由<strong>尖括号</strong>包围的关键词如<html></li>
<li>HTML标签通常<strong>成对出现</strong>的，如 <b>  和 	</b>（是有东西的）</li>
<li>标签对中第一个标签为 <b>开始标签</b>,第二个标签是<strong>结束标签</strong></li>
<li>开始和结束标签也被称为开放标签和闭合标签</li>
</ul>
</li>
<li>
<p>HTML文档 = 网页</p>
<ul>
<li>
<p>Web 浏览器的作用是读取 HTML 文档，并以网页的形式显示出它们。浏览器不会显示 HTML 标签，而是使用标签来解释页面的内容：</p>
<ul>
<li>
<pre><code class="language-html">&lt;html&gt;
&lt;body&gt;

&lt;h1&gt;我的第一个标题&lt;/h1&gt;

&lt;p&gt;我的第一个段落。&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li></li>
</ul>
<blockquote>
<html> 与 </html> 之间的文本描述网页
<body> 与 </body> 之间的文本是可见的页面内容	
<!--<h1> 与 </h1> 之间的文本被显示为标题 范围<h1>-<h6>-->
<h1> 与 </h1> 之间的文本被显示为标题
<h1 align="center"> 拥有关于对齐方式的附加信息。
<!--<p> 与 </p> 之间的文本被显示为段落>  -->
<p> 与 </p> 之间的文本被显示为段落>
<!--<a href="http://www.w3school.com.cn">'网页名字'</a>-->（在href属性中指定链接的地址）
<p><a href="http://www.w3school.com.cn">'w3school'</a></p>
<p>HTML 图像是通过 <img> 标签进行定义的。</p>
<p>图像的名称和尺寸是以属性的形式提供的。</p>
<pre><code>&lt;img src=&quot;w3school.jpg&quot; width=&quot;104&quot; height=&quot;142&quot; /&gt;
</code></pre>
<p><font color = red  size='6' > 啊巴巴</font> 用来调整字体属性，不能乱编</p>
</blockquote>
</li>
</ul>
</li>
<li>
<h2 id="html-元素">HTML 元素</h2>
<ul>
<li>HTML 元素指的是从开始标签（start tag）到结束标签（end tag）的所有代码。</li>
</ul>
</li>
<li>
<h2 id="html-元素语法">HTML 元素语法</h2>
<ul>
<li>HTML 元素以<em>开始标签</em>起始</li>
<li>HTML 元素以<em>结束标签</em>终止</li>
<li><em>元素的内容</em>是开始标签与结束标签之间的内容</li>
<li>某些 HTML 元素具有<em>空内容（empty content）</em></li>
<li>空元素<em>在开始标签中进行关闭</em>（以开始标签的结束而结束）</li>
<li>大多数 HTML 元素可拥有<em>属性</em></li>
</ul>
</li>
<li>
<h3 id="html-文档实例">HTML 文档实例</h3>
<ul>
<li>
<pre><code>&lt;html&gt;

&lt;body&gt;
&lt;p&gt;This is my first paragraph.&lt;/p&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
</li>
<li>
<p>段落
</li>
<li>
<h3 id="body-元素定义了-html-文档的主体"><body> 元素定义了 HTML 文档的主体。</h3>
<ul>
<li>
<body style ="background-color:yellow"> 拥有关于背景颜色的附加信息。(style 淘汰了bgcolor)
</li>
</ul>
</li>
<li>
<html> 元素定义了整个 HTML 文档</html>。
</li>
<li>
<p><br>换行</p>
</li>
<li>
<p>HTML标签对大小写不敏感但是推荐用小写（W3C可能强制要求小写）</p>
</li>
</ul>
</li>
<li>
<h2 id="始终为属性值加引号">始终为属性值加引号</h2>
</li>
<li>
<hr> 定义水平线
</li>
<li>
<p>HTML 字体颜色和尺寸</p>
<ul>
<li>
<p>font-family、color 以及 font-size 属性分别定义元素中文本的字体系列、颜色和字体尺寸：</p>
</li>
<li>
<pre><code>&lt;h1 style=&quot;font-family:verdana&quot;&gt;A heading&lt;/h1&gt;
&lt;p style=&quot;font-family:arial;color:red;font-size:20px;&quot;&gt;A paragraph.&lt;/p&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>文本对齐</p>
<ul>
<li>
<p>text-align 属性规定了元素中文本的水平对齐方式</p>
</li>
<li>
<pre><code>&lt;h1 style=&quot;text-align:center&quot;&gt;This is a heading&lt;/h1&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>文本格式化</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<figure data-type="image" tabindex="4"><img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210119205425667.png" alt="image-20210119205425667" loading="lazy"></figure>
<ul>
<li>
<p>HTML引用</p>
</li>
<li>
<figure data-type="image" tabindex="5"><img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210119211523184.png" alt="image-20210119211523184" loading="lazy"></figure>
</li>
<li>
<p>HTML计算机代码</p>
<ul>
<li>
<figure data-type="image" tabindex="6"><img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210119211854537.png" alt="image-20210119211854537" loading="lazy"></figure>
</li>
<li>
<p>特别的，若想保留代码原来的缩进，要<code><pre>中间加上</pre></code></p>
<p>​	<code></p>
<pre>
var person = {
    firstName:"Bill",
    lastName:"Gates",
    age:50,
    eyeColor:"blue"
}
</pre>
</code>
</li>
</ul>
</li>
<li>
<p>注释</p>
<ul>
<li>
<!-- 这里是注释的内容 -->
</li>
<li>
<p>name 属性规定锚（anchor）的名称。（类比目录索引）</p>
<ul>
<li>语法：</li>
</ul>
<pre><code>&lt;a name=&quot;label&quot;&gt;锚（显示在页面上的文本）&lt;/a&gt;
</code></pre>
<ul>
<li>然后，我们在同一个文档中创建指向该锚的链接：</li>
</ul>
<pre><code>&lt;a href=&quot;#tips&quot;&gt;有用的提示&lt;/a&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>HTML 图像</p>
<ul>
<li>定义的语法（img是空标签所以它只包含属性没有闭合标签，src指source，源属性的值是图像的 URL 地址）</li>
</ul>
<pre><code>&lt;img src=&quot;url&quot; /&gt;
</code></pre>
<ul>
<li>替换文本属性(alt)</li>
</ul>
<pre><code>&lt;img src=&quot;boat.gif&quot; alt=&quot;Big Boat&quot;&gt;
</code></pre>
</li>
<li>
<p>alt 属性用来为图像定义一串预备的可替换的文本。替换文本属性的值是用户定义的。为页面上的图像都加上替换文本属性是个好习惯，这样有助于更好的显示信息，并且对于那些使用纯文本浏览器的人来说是非常有用的。</p>
<ul>
<li>
<p>提示：假如某个 HTML 文件包含十个图像，那么为了正确显示这个页面，需要加载 11 个文件。加载图片是需要时间的，所以要慎用图片。</p>
</li>
<li>
<p>表格</p>
<ul>
<li>表格由 <table> 标签来定义。每个表格均有若干行（由 <tr> 标签定义），每行被分割为若干单元格（由 <td> 标签定义）。字母 td 指表格数据（table data），即数据单元格的内容。数据单元格可以包含文本、图片、列表、段落、表单、水平线、表格等等。 表格是否有边框由border控制，默认为0</li>
</ul>
<pre><code>&lt;table border=&quot;1&quot;&gt;
&lt;tr&gt;
&lt;td&gt;row 1, cell 1&lt;/td&gt;
&lt;td&gt;row 1, cell 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;row 2, cell 1&lt;/td&gt;
&lt;td&gt;row 2, cell 2&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</code></pre>
<ul>
<li>
<p>显示效果：</p>
<figure data-type="image" tabindex="7"><img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210119213757081.png" alt="image-20210119213757081" loading="lazy"></figure>
</li>
<li>
<p>表格的表头使用 <th> 标签进行定义。</p>
</li>
<li>
<p>在之前的表格第一行下边加上</p>
<ul>
<li>
<pre><code>&lt;th&gt;Heading&lt;/th&gt;
&lt;th&gt;Another Heading&lt;/th&gt;
</code></pre>
</li>
<li>
<p>显示效果:</p>
<p>​		<img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210119214549855.png" alt="image-20210119214549855" loading="lazy"></p>
</li>
</ul>
</li>
<li>
<figure data-type="image" tabindex="8"><img src="C:%5CUsers%5C%E5%AD%9F%E4%B9%90%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210119214646003.png" alt="image-20210119214646003" loading="lazy"></figure>
</li>
</ul>
</li>
<li>
<p>HTML 列表</p>
</li>
</ul>
</li>
<li>
<p>每一个列表项必须在<li></li>中间</p>
<ul>
<li>有序列表ol</li>
</ul>
<ol>
 <li>苹果</li>
 <li>香蕉</li>
 <li>柠檬</li>
 <li>桔子</li>
</ol>  
<ul>
<li>
<p>无序列表ul</p>
<ul>
<li>Coffee</li>
<li>Milk</li>
  </ul>
<ul>
<li>
<p>嵌套列表（因为现在的无序标题已经是方形了，所以之后的也是方形）</p>
<ul>
  <li>咖啡</li>
  <li>茶
    <ul>
    <li>红茶</li>
    <li>绿茶
      <ul>
      <li>中国茶</li>
      <li>非洲茶</li>
      </ul>
    </li>
    </ul>
  </li>
  <li>牛奶</li>
</ul>
</li>
</ul>
</li>
<li>
<p>HTML <div>元素和<span>元素</p>
<ul>
<li>div:该元素没有特定的含义。除此之外，由于它属于块级元素，浏览器会在其前后显示折行。</li>
<li>span:该元素也没有特定的含义。当与 CSS 一同使用时，<span> 元素可用于为部分文本设置样式属性。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h1 id="echarts-入门在echarts官网直接修改喜欢的图表">Echarts 入门（在echarts官网直接修改喜欢的图表）</h1>
<ul>
<li>
<p>首先在<head>里边引入Echarts文件</p>
<ul>
<li>
<pre><code>&lt;!-- 引入 ECharts 文件 --&gt;
&lt;script src=&quot;echarts.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>然后到了<body>里边，先设置一个dom，在基于设置好的dom初始化echarts实例，然后指定图标的配置项和数据</p>
<ul>
<li>
<p>准备dom</p>
<ul>
<li>
<pre><code>&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;
&lt;div id=&quot;main&quot; style=&quot;width: 600px;height:400px;&quot;&gt;&lt;/div&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>初始化echatrs实例</p>
<ul>
<li>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));
</code></pre>
</li>
</ul>
</li>
<li>
<p>配置图表的配置项和数据</p>
<ul>
<li>
<pre><code>// 指定图表的配置项和数据
var option = {
    title: {
        text: 'ECharts 入门示例'
    },
    tooltip: {},
    legend: {
        data:['销量']
    },
    xAxis: {
        data: [&quot;衬衫&quot;,&quot;羊毛衫&quot;,&quot;雪纺衫&quot;,&quot;裤子&quot;,&quot;高跟鞋&quot;,&quot;袜子&quot;]
    },
    yAxis: {},
    series: [{
        name: '销量',
        type: 'bar',
        data: [5, 20, 36, 10, 10, 20]
    }]
};

 // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    &lt;/script&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h1 id="wordcloud">wordcloud</h1>
<ul>
<li>
<p>要引入wordcloud包，jieba包，numpy包，PIL包等</p>
<ul>
<li>
<pre><code># -*- coding = utf-8 -*-
# @Time : 2021/1/27 9:26
# @Author : LeHang
import jieba        #分词
from wordcloud import WordCloud         #绘图，数据可视化
from matplotlib import pyplot as plt     #词云
from  PIL import  Image                 #图片处理
import numpy as np                  #矩阵运算
import  sqlite3             #数据库


#准备词云所需的文字(词)
con = sqlite3.connect('movie.db')

cur = con.cursor()

sql = 'select introduction from movie250'

data = cur.execute(sql)

text = &quot;&quot;

for item in data:
    text = text + item[0]
    # print(item[0])
print(text)

cur.close()
con.close()
#分词
cut = jieba.cut(text)
string = ' '.join(cut)
print(string)


img = Image.open(r'.\static\assets\img\tree.jpg') #打开遮罩图片，背景必须为白色
img_array = np.array(img)  #将图片转换为数组
wc = WordCloud(
    background_color='white',
    mask=img_array,
    font_path='msyh.ttc'
)
wc.generate_from_text(string)

#绘制图片

fig = plt.figure(1)
plt.imshow(wc)
plt.axis('off') #是否显示坐标轴

# plt.show()      #显示生成的词云图片

#输出词云文件到图片
plt.savefig(r'.\static\assets\img\word.jpg',dpi=500)
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#%E5%BB%BA%E8%AE%AE%E4%BB%A5%E5%90%8E%E8%A1%A5%E4%B9%A0html%E5%92%8Ccss"><em><strong>建议以后补习html和css</strong></em></a></li>
<li><a href="#%E5%B0%9D%E8%AF%95%E7%88%AC%E5%8F%96%E8%B1%86%E7%93%A3%E7%9A%84top250">尝试爬取豆瓣的top250</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93">数据库</a></li>
<li><a href="#flask">flask</a>
<ul>
<li><a href="#1%E4%BB%8Ehello-world%E5%BC%80%E5%A7%8B">1.从hello world开始</a></li>
</ul>
</li>
<li><a href="#html%E8%B6%85%E6%96%87%E6%9C%AC%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80">HTML（超文本<em><strong>标记语言</strong></em>）</a>
<ul>
<li><a href="#html%E6%A0%87%E7%AD%BE">HTML标签</a></li>
<li><a href="#html-%E5%85%83%E7%B4%A0">HTML 元素</a></li>
<li><a href="#html-%E5%85%83%E7%B4%A0%E8%AF%AD%E6%B3%95">HTML 元素语法</a>
<ul>
<li><a href="#html-%E6%96%87%E6%A1%A3%E5%AE%9E%E4%BE%8B">HTML 文档实例</a></li>
<li><a href="#body-%E5%85%83%E7%B4%A0%E5%AE%9A%E4%B9%89%E4%BA%86-html-%E6%96%87%E6%A1%A3%E7%9A%84%E4%B8%BB%E4%BD%93"><body> 元素定义了 HTML 文档的主体。</a></li>
</ul>
</li>
<li><a href="#%E5%A7%8B%E7%BB%88%E4%B8%BA%E5%B1%9E%E6%80%A7%E5%80%BC%E5%8A%A0%E5%BC%95%E5%8F%B7">始终为属性值加引号</a></li>
</ul>
</li>
<li><a href="#echarts-%E5%85%A5%E9%97%A8%E5%9C%A8echarts%E5%AE%98%E7%BD%91%E7%9B%B4%E6%8E%A5%E4%BF%AE%E6%94%B9%E5%96%9C%E6%AC%A2%E7%9A%84%E5%9B%BE%E8%A1%A8">Echarts 入门（在echarts官网直接修改喜欢的图表）</a></li>
<li><a href="#wordcloud">wordcloud</a></li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://a1m67.github.io/post/mian-shi/">
              <h3 class="post-title">
                面试
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://a1m67.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
